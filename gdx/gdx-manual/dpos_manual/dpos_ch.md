# Go DxChain DPOS 教程

- [Go DxChain DPOS 教程](#go-dxchain-dpos-%e6%95%99%e7%a8%8b)
  - [第一部分：角色简介](#%e7%ac%ac%e4%b8%80%e9%83%a8%e5%88%86%e8%a7%92%e8%89%b2%e7%ae%80%e4%bb%8b)
  - [出块验证者 (Validator)](#%e5%87%ba%e5%9d%97%e9%aa%8c%e8%af%81%e8%80%85-validator)
  - [参选者 (Candidate)](#%e5%8f%82%e9%80%89%e8%80%85-candidate)
  - [投票者 (Delegator)](#%e6%8a%95%e7%a5%a8%e8%80%85-delegator)
  - [第二部分：投票者教程](#%e7%ac%ac%e4%ba%8c%e9%83%a8%e5%88%86%e6%8a%95%e7%a5%a8%e8%80%85%e6%95%99%e7%a8%8b)
    - [步骤2.1 获取参选者列表](#%e6%ad%a5%e9%aa%a421-%e8%8e%b7%e5%8f%96%e5%8f%82%e9%80%89%e8%80%85%e5%88%97%e8%a1%a8)
    - [步骤2.2 检查参选者信息](#%e6%ad%a5%e9%aa%a422-%e6%a3%80%e6%9f%a5%e5%8f%82%e9%80%89%e8%80%85%e4%bf%a1%e6%81%af)
    - [步骤2.3 投票](#%e6%ad%a5%e9%aa%a423-%e6%8a%95%e7%a5%a8)
    - [步骤2.4 取消投票](#%e6%ad%a5%e9%aa%a424-%e5%8f%96%e6%b6%88%e6%8a%95%e7%a5%a8)
  - [第三部分：参选者教程](#%e7%ac%ac%e4%b8%89%e9%83%a8%e5%88%86%e5%8f%82%e9%80%89%e8%80%85%e6%95%99%e7%a8%8b)
    - [步骤3.1 参选者申请](#%e6%ad%a5%e9%aa%a431-%e5%8f%82%e9%80%89%e8%80%85%e7%94%b3%e8%af%b7)
    - [步骤3.2 开启挖矿](#%e6%ad%a5%e9%aa%a432-%e5%bc%80%e5%90%af%e6%8c%96%e7%9f%bf)
    - [步骤3.3 检查参选者列表](#%e6%ad%a5%e9%aa%a433-%e6%a3%80%e6%9f%a5%e5%8f%82%e9%80%89%e8%80%85%e5%88%97%e8%a1%a8)
    - [步骤3.4 取消参选](#%e6%ad%a5%e9%aa%a434-%e5%8f%96%e6%b6%88%e5%8f%82%e9%80%89)

## 第一部分：角色简介

## 出块验证者 (Validator)
* 在整个网络中，一共有 21 个出块验证者。
* 出块验证者，是从参选者列表中，选举出来的。
* 出块验证者负责验证交易，并打包出块，获得奖励。

## 参选者 (Candidate)
* 参选者从投票者处获得投票，竞争成为出块验证者。
* 得票越多的参选者，被选举成为出块验证者的几率越大。
* 想要成为参选者，用户必须要质押至少 10000 DX 通证。
* 参选者质押的 DX 通证，也算为自身的投票。
* 参选者必须详细说明奖励分发制度。当参选者成为了出块验证者后，他需要按照该制度，对投他票的用户进行奖励的分发。

## 投票者 (Delegator)
* 投票者投票给参选者，助其成为出块验证者。
* 任何持有 DX 通证的用户，都可以成为投票者。
* 投票者通过质押 DX 通证，来对其心仪的参选者投票。
* 投票者最多可以给 30 个参选者投票。

## 第二部分：投票者教程

### 步骤2.1 获取参选者列表

在您投票前，您首先需要确认现有的参选者人选。在控制台中，输入以下命令，获取参选者列表：

```shell
> dpos.candidates()
```

### 步骤2.2 检查参选者信息

获取采选者列表后，您可以通过在控制台中输入以下命令，来查询参选者的具体信息:

> 注：请把参选者地址，替换成您从参选者列表中，选出的一个地址

```shell
> dpos.candidate("参选者地址")
```

### 步骤2.3 投票

当年选出心仪的参选者后，可通过以下命令，投票给他们。

> 注：请把参选者列表，替换成您心仪的参选者们，请用逗号分隔。您最多可以投票给 30 个参选者。

```shell
> dpos.vote({from:eth.accounts[0], candidates:"参选者列表",deposit:"2dx"})
```

### 步骤2.4 取消投票

如果您想要取回您的投票质押，您需要在控制台中，输入以下指令。届时，您的所有投票都将会作废，投票质押，会在两天后返还。

```shell
> dpos.vote(eth.accounts[0])
```

## 第三部分：参选者教程

### 步骤3.1 参选者申请

您必须详细说明您要放入的参选者质押，以及出块后的奖励分发制度，才可以申请成为参选者。使用以下命令，您会质押 10000 DX 通证，并会把出块奖励的 50%，分发给投票给您的用户。

```shell
> dpos.applyCandidate({ratio:"50",deposit:"10000dx"})
```

### 步骤3.2 开启挖矿

当您申请完参选者后，请输入以下指令，直接开启挖矿：

> 注：只有出块验证者才可以成功出块，这意味着您即时开启了挖矿，您也不会有任何的产出。之所以提前开始挖矿，是因为当您成为出块验证者后，节点就会自动的出块，确保您不会少出任何一块。

```shell
> miner.start()
```

### 步骤3.3 检查参选者列表

等待大约 10 秒钟后，参选者申请的交易会被处理完成。之后，请在控制台中输入以下指令，检测您是否成功的申请了参选者。如果您的账户地址在返回的参选者列表中，则证明申请成功。

```shell
> dpos.candidates()
```

### 步骤3.4 取消参选

如果您想取回您的参选质押，并取消参选，您可以在控制台中，输入以下命令:

> 注：您的质押会在两天后返还

```shell
> dpos.cancelCandidate(eth.accounts[0])
```